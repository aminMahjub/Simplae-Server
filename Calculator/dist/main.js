(()=>{"use strict";var e={d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};e.d({},{ro:()=>q,qH:()=>g,PO:()=>w});const t=document.getElementsByClassName("ph")[0],n=document.querySelector(".items"),r=document.querySelector(".memory-link"),o=document.querySelector(".history-section"),l=document.querySelector(".memory-section"),a=document.querySelector(".claer-history"),s=e=>{r.classList.remove("default-link"),e.classList.add("default-link"),a.style.display="block",o.className.includes("default-section")&&(o.classList.remove("default-section"),l.classList.add("default-section"))},u=e=>{const r=document.createElement("div"),o=document.createElement("p"),l=document.createElement("p"),a=document.querySelector(".aside");t.style.display="none",r.classList.add("history-item"),n.appendChild(r),r.appendChild(l),r.appendChild(o),l.classList.add("item-upperInput"),o.classList.add("item-input");for(let t of q)t.id==e&&("√"===t.operator||"sqr "===t.operator||"sqr(3) "===t.operator?l.textContent=`${t.numberOne} ${t.operator} `:"1/"===t.operator?l.textContent=`${t.operator} ${t.numberOne}`:l.textContent=`${t.numberOne} ${t.operator} ${t.numberTwo} = `,o.textContent=`${t.resualt}`);a.addEventListener("click",(e=>{e.target.classList.contains("claer-history")&&i()}))},i=()=>{document.querySelectorAll(".history-item").forEach((e=>{e.remove()})),"0"==n.children.length?t.style.display="block":t.style.display="none"},m=e=>{for(let t of q)t.id==e&&(t.equalStatus?t.resualt>0?t.resualt=String(-1*Math.abs(t.resualt)):t.resualt<0&&(t.resualt=String(Math.abs(t.resualt))):t.waitingForOperator?t.numberTwo>0?t.numberTwo=String(-1*Math.abs(t.numberTwo)):t.numberTwo<0&&(t.numberTwo=String(Math.abs(t.numberTwo))):t.numberOne>0?t.numberOne=String(-1*Math.abs(t.numberOne)):t.numberOne<0&&(t.numberOne=String(Math.abs(t.numberOne))))};let c=[];const d=document.querySelector(".memory"),b=document.getElementsByClassName("pm")[0],p=document.querySelector(".history-link"),f=document.querySelector(".memory-section"),y=document.querySelector(".history-section"),h=document.querySelector(".claer-history"),O=e=>{e.classList.add("default-link"),p.classList.remove("default-link"),h.style.display="none",f.className.includes("default-section")&&(f.classList.remove("default-section"),y.classList.add("default-section"))},g=document.querySelector(".input-value"),w=document.querySelector(".upper-input");let q=[{numberOne:"0",numberTwo:"0",waitingForOperator:!1,operator:null,equalStatus:!1,id:0,resualt:null,memoryStatus:!1}];const C=()=>{let e={numberOne:"0",numberTwo:"0",waitingForOperator:!1,operator:null,id:q.length,equalStatus:!1,resualt:null};q.push(e),console.log(q,String(-1*Math.abs(g.textContent)))},S=(e,t)=>{for(let n of q)n.id==t&&("+"===n.operator||"-"===n.operator||"*"===n.operator||"÷"===n.operator?e.textContent=`${n.numberOne} ${n.operator} ${n.numberTwo} =`:e.textContent=` ${n.operator} ${n.numberOne} =`)},L=(e,t)=>{switch(e){case"+":(()=>{for(let e of q)e.resualt=+e.numberOne+ +e.numberTwo})();break;case"-":(()=>{for(let e of q)e.resualt=+e.numberOne-+e.numberTwo})();break;case"*":(()=>{for(let e of q)e.resualt=+e.numberOne*+e.numberTwo})();break;case"÷":(()=>{for(let e of q)e.resualt=+e.numberOne/+e.numberTwo})();break;case"√":(e=>{for(let e of q)e.resualt=Math.sqrt(+e.numberOne)})();break;case"sqr ":case"sqr(3) ":(e=>{for(let e of q)"sqr "===e.operator?e.resualt=Math.pow(+e.numberOne,2):"sqr(3) "===e.operator&&(e.resualt=Math.pow(+e.numberOne,3))})();break;case"1/":(e=>{for(let e of q)e.resualt=1/+e.numberOne})();break;case"negative()":m(t);default:console.log("input is empty")}};(()=>{const e=document.querySelector(".history-link"),t=document.querySelector(".memory-link");e.addEventListener("click",(e=>{s(e.target)})),t.addEventListener("click",(e=>{O(e.target)}))})(),document.querySelector("main").addEventListener("click",(e=>{const t=e.target;let n=q.length-1;t.classList.contains("number")&&((e,t)=>{for(let n of q)n.id==t&&(n.waitingForOperator?"0"===n.numberTwo?n.numberTwo=e:n.numberTwo+=e:"0"===n.numberOne?n.numberOne=e:n.numberOne+=e)})(t.value,n),t.classList.contains("operator")&&((e,t)=>{for(let n of q)if(n.id==t){if("negative()"===e)return;n.operator=e,n.waitingForOperator=!0}})(t.value,n),t.classList.contains("decimal")&&((e,t)=>{for(let n of q)if(n.id==t){const t=".";n.waitingForOperator?n.numberTwo.includes(e)?n.numberTwo=n.numberTwo.replace(/,([^,]*)$/,t+"$1"):n.numberTwo+=e:n.numberOne.includes(e)?n.numberOne=n.numberOne.replace(/,([^,]*)$/,t+"$1"):n.numberOne+=e}})(t.value,n),t.classList.contains("claer-entry")&&(e=>{for(let t of q)t.id===e&&(t.equalStatus?(g.textContent="0",w.textContent=""):(t.waitingForOperator?t.numberTwo="0":t.numberOne="0",g.textContent="0"))})(n),t.classList.contains("clear-all")&&(e=>{for(let t of q)t.id===e&&(t.equalStatus?(g.textContent="0",w.textContent=""):(t.numberOne="0",t.numberTwo="0",t.waitingForOperator=!1,t.operator=null,g.textContent="0",w.textContent=""))})(n),t.classList.contains("negative")&&m(n),t.classList.contains("back-space")&&(e=>{for(let t of q)t.id==e&&(t.waitingForOperator?(t.numberTwo=t.numberTwo.substring(0,t.numberTwo.length-1),g.textContent=t.numberTwo):(t.numberOne=t.numberOne.substring(0,t.numberOne.length-1),t.equalStatus?w.textContent="":g.textContent=t.numberOne))})(n),t.classList.contains("equal")&&(e=>{for(let t of q)t.id==e&&(null==t.operator?console.log("Your input is empty"):(t.equalStatus=!0,L(t.operator,e),C()))})(n),(e=>{for(let t of q)if(t.id==e)if(t.equalStatus)S(w,e),g.textContent=t.resualt,u(e);else if(t.waitingForOperator)if("0"===t.numberOne)t.numberOne=g.textContent,w.textContent=`${t.numberOne} ${t.operator}`;else if(w.textContent="","√"===t.operator||"sqr "===t.operator||"sqr(3) "===t.operator||"1/"===t.operator)g.textContent="",w.textContent=`${t.operator} ${t.numberOne}`,g.textContent=t.numberOne;else{if(w.textContent=`${t.numberOne} ${t.operator}`,"0"===t.numberTwo)return;g.textContent=t.numberTwo}else w.textContent="",g.textContent=t.numberOne})(n)})),document.querySelector(".grid-container").addEventListener("click",(e=>{let t=e.target;t.classList.contains("memory-button")&&(e=>{const t=+g.textContent,n=document.createElement("div"),r=document.createElement("p");if("MS"==e.value){const e=document.querySelector("#myDropdown");let o=document.createElement("div");b.style.display="none",n.classList.add("memory-item"),d.appendChild(n),n.appendChild(r),r.classList.add("item-input"),n.id=`${c.length}`,o.classList.add("small-memory"),o.id=`${c.length}`,e.appendChild(o),(e=>{(()=>{let e={number:0,id:c.length};c.push(e),console.log(c)})();let t=c.length-1;for(let n of c)n.id==t&&(n.number=e)})(t)}e.classList.contains("item6")&&(()=>{document.getElementById("myDropdown").classList.toggle("show-memory");let e=document.getElementsByClassName("dropdown-content")[0];for(let t=0;t<e.length;t++){let n=e[t];n.classList.contains("show-memory")&&n.classList.remove("show-memory")}})(),"+"!=e.value&&"-"!=e.value||((e,t)=>{let n=c.length-1;for(let r of c)r.id==n&&("+"==e.value?r.number=r.number+t:r.number=r.number-t)})(e,t),"MC"==e.value&&((()=>{let e=c.length-1;for(let t=0;t<=e;t++)c.pop();const t=document.querySelectorAll(".memory-item"),n=document.querySelectorAll(".small-memory");t.forEach((e=>{e.remove()})),n.forEach((e=>{e.remove()}))})(),"0"==c.length?b.style.display="block":b.style.display="none"),(()=>{const e=document.querySelectorAll(".memory-item"),t=document.querySelectorAll(".small-memory");e.forEach((e=>{if("0"!=c.length)for(let t of c)e.id==t.id&&(e.childNodes[0].textContent=t.number)})),t.forEach((e=>{if("0"!=c.length)for(let t of c)e.id==t.id&&(e.textContent=t.number)}))})()})(t)}))})();